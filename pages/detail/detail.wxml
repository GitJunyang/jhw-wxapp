<!-- 轮播 -->
<view class="detail">
  <swiper class="swiper_box" style="{{swiperHeight}}"
    indicator-dots="{{swiperTrue}}" indicator-color="#efefef" indicator-active-color="{{primaryColor}}"
    autoplay="{{swiperTrue}}" circular="{{swiperTrue}}" interval="3000" duration="500">
    <block wx:for="{{detail.imagelist}}">
      <swiper-item>
        <image mode="widthFix" src="{{item.sourceProductImagePath}}" bindload="imageLoad" bindtap="showPic"/>
      </swiper-item>
    </block>
  </swiper>

  <view class="detail_title">
    <view class="header">
      <view class="name">{{detail.name}}</view>
      <view class="price">￥{{detail.price}}</view>
    </view>
    <button class="share" open-type="share" style="height:50px;line-height:28px;background:#fff;padding:0">
      <image mode="widthFix" src="../../images/detail/share.png"/>
      转发
    </button>
  </view>
  <rich-text nodes="{{detail.detail1}}" wx:if="{{detail.detail1}}"></rich-text>
</view>
<view class="wxpay">
  <image mode="widthFix" src="../../images/detail/wxpay.png"/>支持微信支付
</view>
<!-- 分享 -->
<view class="shareModal" animation="{{animationShare}}">
  <button open-type="share"><image mode="widthFix" src="../../images/detail/friend.png"/>发送给朋友</button>
  <navigator class="shareImg" url="../canvas/canvas?id={{id}}&name={{detail.name}}&price={{detail.price}}&pic={{detail.pic_path}}"><image mode="widthFix" src="../../images/detail/image.png"/>生成分享二维码</navigator>
</view>
<button class="fixed closeBg" bindtap="closeBg" wx:if="{{shareModal}}">取消</button>
<view class="drawer_screen shareBg" bindtap="closeBg" wx:if="{{shareModal}}"></view>

<!-- 图文详情 -->
<view class="detail_desc" bindtouchend="scrollTopFn">
  <rich-text nodes="{{detail.proddesc}}" bindtap="showDescPic"></rich-text>
</view>
<!-- 背景黑色 -->
<view class="drawer_screen" bindtap="setModalStatus" data-status="0" wx:if="{{showModalStatus}}"></view>
<!-- 产品属性 -->
<view animation="{{animationData}}" class="drawer_attr_box" wx:if="{{showModalStatus}}">
  <view class="weui-cells">
    <view class="weui-cell">
      <view class="weui-cell__bd">
        <text style="padding-right:30rpx">(库存：{{detail.store}})</text>{{productAttr}}
      </view>
      <view class="weui-cell__ft">
        <view class="price">￥{{detail.price}}</view>
      </view>
    </view>
  </view>
  <view class="drawer_attr_content">
    <view class="weui-cell" wx:for="{{attrList}}">
      <view class="weui-cell__hd name">{{item.name}}</view>
      <view class="weui-cell__bd weui-cell-attr">
        <text wx:for="{{item.eleList}}" wx:for-item="items" wx:for-index="idx" style="{{item.dx===idx?'color:#fff;border:1px solid ' + defaultColor + ';background:' + defaultColor :''}}"
          data-index="{{index}}" data-idx="{{idx}}" bindtap="attrClick">{{items}}</text>
      </view>
    </view>
    <view class="weui-cell" style="padding:10px 15px 20px 15px;">
      <view class="weui-cell__bd">数量</view>
      <view class="weui-cell__ft">
        <!-- 主容器 -->
        <view class="stepper">
          <!-- 减号 -->
          <text class="{{minusStatus}}" bindtap="bindMinus">-</text>
          <!-- 数值 -->
          <input type="number" bindchange="bindManual" value="{{num}}" />
          <!-- 加号 -->
          <text class="normal" bindtap="bindPlus">+</text>
        </view>
      </view>
    </view>
  </view>
</view>
<button class="btn-primary fixed btn-cart3" bindtap="pay" wx:if="{{showModalStatus}}">确定</button>
<view class="detail-btn">
  <view class="detail-btn-img">
    <contact-button type="default-light" size="22" session-from="{{detail.name}}"></contact-button>
    <contact-button type="default-light" size="22" session-from="{{detail.name}}" style="left:22px;"></contact-button>
    <contact-button type="default-light" size="22" session-from="{{detail.name}}" style="left:44px;"></contact-button>
    <contact-button type="default-light" size="22" session-from="{{detail.name}}" style="top:22px;"></contact-button>
    <contact-button type="default-light" size="22" session-from="{{detail.name}}" style="top:22px;left:22px; "></contact-button>
    <contact-button type="default-light" size="22" session-from="{{detail.name}}" style="top:22px;left:44px; "></contact-button>
    <image mode="widthFix" src="../../images/message.png"/>
  </view>
  <button class="btn-primary btn-cart" bindtap="setModalStatus" data-status="1" data-skip="0">加入购物车</button>
  <button class="btn-primary btn-cart2" bindtap="setModalStatus" data-status="1" data-skip="1">立即购买</button>
</view>
<!-- 滚回到顶部 -->
<image class="top" src="../../images/top.png" wx:if="{{scrollTop}}" catchtap="goTopFun"></image>
